<!DOCTYPE html>
<html>
<head>
    <title>Balance Sheet Report</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { border: 1px solid #ccc; padding: 8px; }
        th { background: #f0f0f0; }
        .amount { text-align: right; }
        .group { background: #e6f3ff; font-weight: bold; }
        .account { background: #f0f8ff; padding-left: 20px; }
        .sub { background: #f8f8f8; padding-left: 40px; }
        .detail { padding-left: 60px; font-size: 0.9em; }
        .total { background: #ffffcc; font-weight: bold; }
    </style>
</head>
<body>
    <h2>Balance Sheet Report</h2>
    
    <table>
        <tr><th>ASSETS</th><th class="amount">Amount</th></tr>
        {% for group in assets %}
            <tr class="group"><td>{{ group.name }}</td><td class="amount">{{ group.total|floatformat:2 }}</td></tr>
            {% for account in group.accounts %}
                <tr class="account"><td>{{ account.name }}</td><td class="amount">{{ account.total|floatformat:2 }}</td></tr>
                {% for sub in account.sub_accounts %}
                    <tr class="sub"><td>{{ sub.name }}</td><td class="amount">{{ sub.total|floatformat:2 }}</td></tr>
                    {% for detail in sub.details %}
                        <tr class="detail"><td>{{ detail.currency }} - {{ detail.attribute }}</td><td class="amount">{{ detail.balance|floatformat:2 }}</td></tr>
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        {% endfor %}
        <tr class="total"><td>TOTAL ASSETS</td><td class="amount">{{ total_assets|floatformat:2 }}</td></tr>
    </table>
    
    <table>
        <tr><th>LIABILITIES</th><th class="amount">Amount</th></tr>
        {% for group in liabilities %}
            <tr class="group"><td>{{ group.name }}</td><td class="amount">{{ group.total|floatformat:2 }}</td></tr>
            {% for account in group.accounts %}
                <tr class="account"><td>{{ account.name }}</td><td class="amount">{{ account.total|floatformat:2 }}</td></tr>
                {% for sub in account.sub_accounts %}
                    <tr class="sub"><td>{{ sub.name }}</td><td class="amount">{{ sub.total|floatformat:2 }}</td></tr>
                    {% for detail in sub.details %}
                        <tr class="detail"><td>{{ detail.currency }} - {{ detail.attribute }}</td><td class="amount">{{ detail.balance|floatformat:2 }}</td></tr>
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        {% endfor %}
        <tr class="total"><td>TOTAL LIABILITIES</td><td class="amount">{{ total_liabilities|floatformat:2 }}</td></tr>
    </table>
</body>
</html>
